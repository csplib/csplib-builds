
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	<!-- <link rel="shortcut icon" href="../../assets/ico/favicon.png"> -->

	<title>041: The n-Fractions Puzzle</title>

	<!-- Bootstrap core CSS -->
	<link href="/csplib-builds/languages_try_2/bootstrap/css/bootstrap.css" rel="stylesheet">

	<link href="/csplib-builds/languages_try_2/css/main.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" ></script>

	<!-- Enable table sorting -->
	<script src="/csplib-builds/languages_try_2/js/tablesorter/jquery.tablesorter.min.js"></script>
	<link rel="stylesheet" href="/csplib-builds/languages_try_2/js/tablesorter/blue/style.css" type="text/css"/>
	<script type="text/javascript">
	$(function() {
		$(".tablesorter").tablesorter();
	});
	</script>

	<script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	MathJax.Hub.Config({
	  	tex2jax: {
	    inlineMath: [['$','$'], ['\\(','\\)']],
	    processEscapes: true
	  	}
	});
	</script>

  
	<link type="text/css" rel="stylesheet" href="/csplib-builds/languages_try_2/syntax_highlighter/shCoreDefault.css"/>

</head>

<body>

	<ol class="breadcrumb">
    	  <li><a href="/csplib-builds/languages_try_2/">CSPLib</a></li>

  <li><a href="/csplib-builds/languages_try_2/Problems">Problems</a></li>
  <li><a href="/csplib-builds/languages_try_2/Problems/prob041">prob041</a></li>

  <li><a href="/csplib-builds/languages_try_2/Problems/prob041/models">Models</a></li>
  <li>modelling-note.md</li>
	</ol>

	<div class="container">

		<div class="page-header">
			<h1>041: The n-Fractions Puzzle</h1>


<!-- macro to Not made a link if on the page the link links to -->


<nav id="navigation">
<ul>
   	<li><a href="/csplib-builds/languages_try_2/Problems/prob041/">Specification</a></li>

   	<li><a href="/csplib-builds/languages_try_2/Problems/prob041/data">Data files</a></li>

   	<li><a href="/csplib-builds/languages_try_2/Problems/prob041/results">Results</a></li>

   	<li><a href="/csplib-builds/languages_try_2/Problems/prob041/references">References</a></li>

   	<li><a href="/csplib-builds/languages_try_2/Problems/prob041/models">Models</a></li>

   	<li><a href="/csplib-builds/languages_try_2/Problems/prob041/cite">Cite</a></li>

 	<li style="float:right"><a href="https://github.com/csplib/csplib/blob/master/Problems/prob041/models/modelling-note.md">Edit Page</a></li>
</ul>
</nav>



		</div>


<a href="/csplib-builds/languages_try_2/Problems/prob041/models/modelling-note.md">Download</a>
<H3> Modelling </H3>

<p>An easy way to avoid rounding errors, is to multiply up the fractions. In
the case of the 3-fractions puzzle, this gives:
<PRE>
A(EF)(HI)+D(BC)(HI)+G(BC)(EF) == (BC)(EF)(HI)
</PRE>
Given the repetition of the original denominators, it is now useful to
bind each of these to an auxiliary variable for greater propagation.</p>
<P>
When <EM>n</EM> is less than or equal to 3, an all-different constraint
can be used on the digit variables. Otherwise, an occurrence constraint
is used to ensure that each digit appears the correct number of times.

<!%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%>
<H4> Symmetry-breaking and Implied Constraints</H4>

Symmetry in the <EM>n</EM>-fractions puzzle stems from the
commutativity of the sum operator. An obvious way to break this
symmetry is to order the fractions. For example, in the 3-fractions
puzzle:
<PRE>
A     D     G
-- <= -- <= --
BC    EF    HI
</PRE>
It is also possible to view the fractions arranged in a matrix model.
Again using the 3-fractions puzzle as an example:
<PRE>
/A D G\
|B E H|
\C F I/
</PRE>

This matrix has column symmetry only, hence all symmetry can be broken
by lexicographically ordering the columns [1]. Due to the structure of
the problem, different results are obtained by changing the order in
which the column vectors are built. For example, instead of reading
the elements top to bottom, producing &ltA, B, C&gt, &ltD, E, F&gt and
&ltG, H, I&gt, the elements can be read &ltC, B, A&gt, &ltF, E, D&gt
and &ltI, H, G&gt. Depending on the choice of symmetry-breaking
constraints, a variety of implied constraints follow, as discussed in
[2] below.

<OL>
<LI>
P. Flener, A.M. Frisch, B. Hnich, Z. Kiziltan, I. Miguel, J. Pearson, T. Walsh.
<A HREF= "http://www.cs.york.ac.uk/aig/projects/implied/docs/CPSymMatrix02.ps.gz">
Breaking Row and Column Symmetries in Matrix Models</A>.
<EM>Proceedings of the 8th International Conference on Principles and Practice
of Constraint Programming</EM>, 462--476, 2002.

<LI>
A.M. Frisch, C. Jefferson, I. Miguel.
<A HREF = "http://www.cs.york.ac.uk/aig/projects/implied/docs/SymICTR.pdf">
<EM>Symmetry-breaking as a Prelude to Implied Constraints: A Constraint Modelling
Pattern</EM></A>.
APES Technical Report 75-2003.
</OL>


	</div>


<!-- Syntax highlighter  -->
<script type="text/javascript" src="/csplib-builds/languages_try_2/syntax_highlighter/shCore.js"></script>
<script type="text/javascript" src="/csplib-builds/languages_try_2/syntax_highlighter/shAutoloader.js" ></script>
<script type="text/javascript">
    SyntaxHighlighter.autoloader(
    ['essence','eprime','param','solution', '/csplib-builds/languages_try_2/js/shBrushEssence.js'],
    ['js','javascript','/csplib-builds/languages_try_2/syntax_highlighter/shBrushJScript.js'],
    ['cpp','hpp','hh','cc','h','c', '/csplib-builds/languages_try_2/syntax_highlighter/shBrushCpp.js'],
    ['erl','hrl', '/csplib-builds/languages_try_2/syntax_highlighter/shBrushErlang.js'],

    ['java'   , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushJava.js']   ,
    ['cs'     , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushCSharp.js'] ,
    ['groovy' , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushGroovy.js'] ,
    ['pl'     , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushPerl.js']   ,
    ['php'    , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushPhp.js']    ,
    ['rb'     , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushRuby.js']   ,
    ['py'     , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushPython.js'] ,
    ['xml'    , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushXml.js']    ,
    ['scala'  , '/csplib-builds/languages_try_2/syntax_highlighter/shBrushScala.js']
	);

	SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all();
</script>


</body>

</html>